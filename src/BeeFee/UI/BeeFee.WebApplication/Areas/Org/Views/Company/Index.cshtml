@model System.Collections.Generic.IReadOnlyCollection<KeyValuePair<BeeFee.OrganizerApp.Projections.Company.CompanyProjection, int>>

<h2>My companies:</h2>

@if (Model.Count > 0)
{
	<table class="table table-striped">
		<thead>
		<tr>
			<th>Name</th>
			<th>Url</th>
			<th>Users</th>
			<th>Events</th>
			<th></th>
		</tr>
		</thead>
		<tbody>
		@foreach (var e in Model)
		{
			<tr>
				<td>@e.Key.Name</td>
				<td>@e.Key.Url</td>
				<td>@(String.Join("<br/>",e.Key.Users.Select(x => x.User.Name)))</td>
				<td><a asp-action="Index" asp-controller="Event" asp-route-id="@e.Key.Id">Events [@e.Value]</a></td>
				<td>
					<a asp-action="Edit" asp-route-id="@e.Key.Id">Edit</a>
					<a asp-action="Remove" asp-route-id="@e.Key.Id" asp-route-version="@e.Key.Version">Remove</a>
				</td>
			</tr>
		}
		</tbody>
	</table>
}

else
{
	<div class="text-center">
		You don't have any companies
	</div>
}
<br /><br />
<a asp-action="Add">Add</a>